[workspace]
authors = ["Daniel San Jos√© Pro <42489409+danielsanjosepro@users.noreply.github.com>"]
channels = ["conda-forge"]
name = "anyskin-ros2"
platforms = ["linux-64"]
version = "0.1.0"

[tasks]
anyskin-ros2-image = "python -m scripts.anyskin_ros2"

[tasks.anyskin-reset]
args = [
    { "arg" = "namespace", "default" = "" },
]
cmd = "ros2 service call {{ namespace }}/reset std_srvs/srv/Trigger"

[tasks.republish-compressed]
args = [
    { "arg" = "topic_name", "default" = "/image_raw" },
]
cmd = "ros2 run image_transport republish raw in:={{ topic_name }} out:={{ topic_name }}/compressed"


[pypi-dependencies]
ruff = ">=0.14.3, <0.15"

[dependencies]
compilers = "*"
cmake = "*"
pkg-config = "*"
make = "*"
ninja = "*"
python = "==3.11"

[target.linux.dependencies]
libgl-devel = "*"

[environments]
humble = { features = ["humble"] }
jazzy = { features = ["jazzy"]}

# humble
[feature.humble]
channels = ["https://prefix.dev/robostack-humble"]

[feature.humble.activation]
scripts = ["scripts/set_env.sh"]

[feature.humble.dependencies]
ros-humble-desktop = "*"
colcon-common-extensions = "*"
ros-humble-ros2-control = "*"
ros-humble-ros2-controllers = "*"
ros-humble-rmw-zenoh-cpp = "*"
ros-humble-rmw-cyclonedds-cpp = "*"
ros-humble-image-transport-plugins = "*"
rosdep = "*"

# jazzy
[feature.jazzy]
channels = ["https://prefix.dev/robostack-jazzy"]

[feature.jazzy.dependencies]
ros-jazzy-desktop = "*"
ros-jazzy-ros2-control = "*"
ros-jazzy-ros2-controllers = "*"
colcon-common-extensions = "*"
rosdep = "*"
ros-jazzy-rmw-cyclonedds-cpp = "*"
ros-jazzy-image-transport-plugins = "*"
